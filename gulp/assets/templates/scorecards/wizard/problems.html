<h2>Create or assign a wicked problem</h2>

<div class="form-horizontal">
  <div ng-show="vm.problems.length">
    <div class="form-group border-top">
      <label for="scorecard-problem" class="col-sm-4 control-label">Select a Wicked Problem</label>

      <div class="col-sm-8">
        <ui-select ng-model="vm.newScorecard.problem" theme="bootstrap">
          <ui-select-match placeholder="-- Select a Wicked Problem --">
            {{ $select.selected.attributes.name }}
          </ui-select-match>
          <ui-select-choices repeat="problem in vm.problems | filter:{ attributes: { name: $select.search } } track by problem.id">
            <div ng-bind-html="problem.attributes.name | highlight: $select.search"></div>
          </ui-select-choices>
        </ui-select>
      </div>
    </div>

    <em class="col-sm-offset-4 or-tag">or <a ng-click="vm.openModal('problems')"href>create a new problem</a></em>
  </div>

  <div ng-hide="vm.problems.length">
    <em class="or-tag">You have no problems setup, <a ng-click="vm.openModal('problems')"href>create one now?</a></em>
  </div>

  <div class="col-sm-offset-4" ng-show="vm.newScorecard.problem">
    <button class="btn btn-default" wz-next>
      Assign Community <i class="fa fa-angle-double-right"></i>
    </button>
  </div>
</div>

<script type="text/ng-template" id="/templates/scorecards/problems-modal.html">
  <div class="modal-body">
    <h1>New Wicked Problem</h1>
    <div ng-include="'/templates/problems/_form.html'">></div>
  </div>
</script>
