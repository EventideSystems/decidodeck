<div class="scorecard-matrix">
  <div class="mask"></div>
  <table>
    <thead>
      <tr>
        <th class="spacer">&nbsp;</th>
        <th class="legend" ng-attr-colspan="{{::area.characteristics.length}}" ng-class="'color' + ($index+1)" ng-repeat="area in focusAreas">
          <div tooltip-append-to-body="true" uib-tooltip="{{::area.attributes.name }}">
            Focus area {{ $index+1 }}
          </div>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr ng-repeat="initiative in initiatives | orderBy:'attributes.name'" class="initiative">
        <td class="init-title">
          <a ui-sref="wkd.initiatives.view.checklist({ id: initiative.id })" ng-attr-title="{{::initiative.attributes.name}}">
            {{ ::initiative.attributes.name }}
          </a>
        </td>
        <td class="cell" ng-class="::{ gap: isGap(initiative, characteristic) }" tooltip-animation="false" tooltip-placement="left" tooltip-append-to-body="true" uib-tooltip="{{::characteristic.attributes.name}}" ng-class="inversed ? 'inverse' : ''" ng-repeat="characteristic in characteristics"><span></span></td>
      </tr>
      <tr class="chars">
        <td>&nbsp;</td>
        <td tooltip-animation="false" tooltip-placement="left" tooltip-append-to-body="true" tooltip-class="matrix-char-tooltip" uib-tooltip="{{::characteristic.attributes.name}}" class="char-header" ng-repeat="characteristic in characteristics">
          <div>{{ ::characteristic.attributes.name }}</div>
        </td>
      </tr>
    </tbody>
  </table>
</div>


<div class="scorecard-matrix-controls">
  <button class="btn btn-default" ng-click="toggleGaps()">
    Show gaps in effort
  </button>

  <button class="btn btn-default" ng-click="printScorecard()">
    Print scorecard
  </button>

  <button class="btn btn-default" ng-click="openEmbedModal()">
    Embed scorecard
  </button>
</div>


<script type="text/ng-template" id="/templates/scorecards/embed-modal.html">
  <div class="modal-body">
    <h1>Embed scorecard</h1>

    <p><strong>Direct link</strong><br>

    <a href="http://WICKED_URL/scorecards/GUID">http://WICKED_URL/scorecards/GUID</a>

    <p>
      <strong>Embed image</strong>

      <pre>
&lt;a href="http://WICKED_URL/scorecards/GUID" target="_blank"&gt;
  &lt;img src="sourcetoimage" alt="link to scorecard"&gt;&lt;/img&gt;
&lt;/a&gt;</pre>

    </p>
  </div>
</script>
