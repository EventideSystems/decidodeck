<h1>Organisations</h1>

<wkd-action-panel toggle-title="Add new organisation">
  <ng-include src="'/templates/organisations/_form.html'"></ng-include>
</wkd-action-panel>

<h2>Current organisations</h2>

<div class="top-filter">
  <i class="fa fa-search"></i>
  <input type="text" placeholder="search organisations" class="top-filter" ng-model="vm.filterText">
</div>

<table class="table table-striped table-hover" ts-wrapper>
  <thead>
    <tr>
      <td ts-criteria="attributes.name" ts-default>Name</td>
      <td ts-criteria="attributes.description">Description</td>
      <td ts-criteria="createdAt">Created at</td>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="organisation in vm.organisations | filter:{attributes: { name: vm.filterText }}" ts-repeat>
      <td><a href ui-sref="^.view({ id: organisation.id })">{{ organisation.attributes.name }}</a></td>
      <td>{{ organisation.attributes.description }}</td>
      <td>{{ organisation.createdAt | date }}</td>
    </tr>
  </tbody>
</table>
