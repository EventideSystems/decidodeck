<h1>Wicked Problems</h1>

<wkd-action-panel toggle-title="Add new wicked problem">
  <ng-include src="'/templates/problems/_form.html'"></ng-include>
</wkd-action-panel>

<h2>Current wicked problems</h2>

<div class="top-filter">
  <i class="fa fa-search"></i>
  <input type="text" placeholder="search wicked problems" class="top-filter" ng-model="vm.filterText">
</div>

<table class="table table-striped table-hover" ts-wrapper>
  <thead>
    <tr>
      <td ts-criteria="attributes.name" ts-default>Name</td>
      <td ts-criteria="attributes.description">Description</td>
      <td ts-criteria="createdAt">Created at</td>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="problem in vm.problems | filter:{attributes: { name: vm.filterText }}" ts-repeat>
      <td><a href ui-sref="^.view({ id: problem.id })">{{ problem.attributes.name }}</a></td>
      <td>{{ problem.attributes.description }}</td>
      <td>{{ problem.createdAt | date }} </td>
    </tr>
  </tbody>
</table>
