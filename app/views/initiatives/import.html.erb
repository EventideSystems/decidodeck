<%= page_header_tag 'Import Initiatives' %>

<div class="max-w-2xl">
  <div class="bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6">
    <h3 class="text-sm font-medium text-yellow-800 mb-2">Import Instructions</h3>
    <ul class="text-sm text-yellow-700 space-y-1">
      <li>• Upload a CSV file with columns: Name, Description, Impact Card Name, Started At, Finished At, Contact Name, Contact Email, Contact Phone, Contact Website, Contact Position, Notes</li>
      <li>• Impact Card Name must match existing impact cards in your workspace</li>
      <li>• Dates should be in YYYY-MM-DD format (optional)</li>
      <li>• The file should match the format exported from the initiatives list</li>
      <li>• Empty rows will be ignored</li>
      <li>• Stakeholder and subsystem tag associations from CSV are not imported (can be added manually after import)</li>
    </ul>
  </div>

  <%= form_with url: import_initiatives_path, multipart: true, class: "space-y-6", data: { turbo: false } do |form| %>
    <div>
      <%= form.label :csv_file, "Select CSV File", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= form.file_field :csv_file, 
            accept: ".csv", 
            required: true,
            class: "block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" %>
    </div>

    <div class="flex gap-4">
      <%= form.submit "Import Initiatives", class: "bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700" %>
      <%= link_to "Cancel", initiatives_path, class: "bg-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-400" %>
    </div>
  <% end %>

  <div class="mt-8">
    <h3 class="text-sm font-medium text-gray-800 mb-2">Need a template?</h3>
    <p class="text-sm text-gray-600 mb-2">
      You can <%= link_to "export existing initiatives", initiatives_path(format: :csv), class: "text-blue-600 hover:text-blue-800" %> 
      to get a properly formatted CSV file as a template.
    </p>
  </div>
</div>
