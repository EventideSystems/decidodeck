<% content_for :page_actions do %>
  <%= 
    link_to(new_wicked_problem_path, class: 'btn btn-primary') do
      safe_join([content_tag(:i, '', class: "fa fa-plus"), ' New Wicked Problem'])
    end 
  %>
<% end %>

<div class="box">
  <div class='box-body no-padding'>
  <%= table_for @wicked_problems, :table_html => { :class => "table table-striped" },
                        :sortable => true,
                        :data_row_html => {
                          :id => lambda { |wicked_problem| "wicked_problem-#{wicked_problem.id}" }
                        } do |table| %>
    <% table.column :name %>
    <% table.column :description, :formatter => lambda { |description| Nokogiri::HTML(description).text} %>
    <% table.column :created_at %>
    <% table.column :data => "Show", :link => true %>
    <% table.column :data => "Modify", :link_action => :edit %>
    <% table.column :data => "Delete", :link_method => :delete, :link_confirm => "Are you sure?" %>
    <% table.footer do %>
      <div class="pull-right">
        <%= paginate @wicked_problems %>
      </div>
    <% end %>
  <% end %>
  </div>
</div>