<%= turbo_stream.append dom_id(@goal, :targets_list) do %>
  <div class="mb-4 ml-3">
    <%= turbo_frame_tag dom_id(@target) do %>
      <%= render partial: 'link', locals: { target: @target } %>
    <% end %>

    <ul class="list-disc pl-8">
      <%= turbo_frame_tag dom_id(@target, :indicators_list) do %>
        <% @target.characteristics.each do |characteristic| %>
          <%= turbo_frame_tag dom_id(characteristic) do %>
            <%= render '/indicators/link', indicator: characteristic %>
          <% end %>
        <% end %>
      <% end %>
    </ul>
    <%= turbo_frame_tag dom_id(@target, :new_indicator) do %>
       <%= render 'targets/link_to_new_element', parent: @target %>
    <% end %>
  </div>
<% end %>

<%= turbo_stream.update dom_id(@goal, :new_target) do %>
  <%= render 'targets/link_to_new_element', parent: @goal %>
<% end %>
